-- ðŸŸ¢ CrÃ©er le ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

-- ðŸŸ¢ CrÃ©er un Frame pour contenir les boutons
local frame = Instance.new("Frame")
frame.Parent = screenGui
frame.Size = UDim2.new(0, 350, 0, 400)
frame.Position = UDim2.new(0.5, -175, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Visible = true

-- ðŸŸ¢ Fonction pour styliser les boutons
local function createButton(text, position, parent)
    local button = Instance.new("TextButton")
    button.Parent = parent
    button.Size = UDim2.new(0, 300, 0, 50)
    button.Position = position
    button.Text = text
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 18
    button.BorderSizePixel = 0
    return button
end

-- ðŸŸ¢ CrÃ©ation des boutons
local autoCoinButton = createButton("Activate Auto Coin", UDim2.new(0, 25, 0, 20), frame)
local autoDummyButton = createButton("Activate Auto Dummy 5k", UDim2.new(0, 25, 0, 80), frame)
local hitboxButton = createButton("Show/Hide Hitboxes", UDim2.new(0, 25, 0, 140), frame)
local spamWeaponButton = createButton("Activate Spam Weapon", UDim2.new(0, 25, 0, 200), frame)
local farmKillButton = createButton("Activate Farm Kill", UDim2.new(0, 25, 0, 260), frame)

-- ðŸŸ¢ Fonction pour activer/dÃ©sactiver un bouton
local function toggleButton(button, state, scriptName)
    if state then
        button.Text = "Deactivate " .. scriptName
    else
        button.Text = "Activate " .. scriptName
    end
end

-- âœ… Auto Coin Script (activable avec bouton)
local autoCollect = false
autoCoinButton.MouseButton1Click:Connect(function()
    autoCollect = not autoCollect
    toggleButton(autoCoinButton, autoCollect, "Auto Coin")
    if autoCollect then
        spawn(function()
            while autoCollect do
                game:GetService("ReplicatedStorage").Events.CoinEvent:FireServer()
                task.wait(0.1)
            end
        end)
    end
end)

-- âœ… Auto Dummy 5k Level Script (activable avec bouton)
local autoDummyActive = false
autoDummyButton.MouseButton1Click:Connect(function()
    autoDummyActive = not autoDummyActive
    toggleButton(autoDummyButton, autoDummyActive, "Auto Dummy 5k")
    if autoDummyActive then
        spawn(function()
            local ReplicatedStorage = game:GetService("ReplicatedStorage")
            local FireballEvent = ReplicatedStorage:WaitForChild("SkillsInRS"):WaitForChild("RemoteEvent")
            local HitEvent = ReplicatedStorage:WaitForChild("jdskhfsIIIllliiIIIdchgdIiIIIlIlIli")
            local fireballPosition = Vector3.new(-83.338, 595.938, 812.447)
            local dummyHumanoid = workspace:FindFirstChild("MAP"):FindFirstChild("5k_dummies").Dummy2:FindFirstChild("Humanoid")
            while autoDummyActive do
                FireballEvent:FireServer(fireballPosition, "NewFireball")
                HitEvent:FireServer(dummyHumanoid, 1)
                task.wait(2)
            end
        end)
    end
end)

-- âœ… Hitbox Toggle (activable avec bouton)
local hitboxActive = false
hitboxButton.MouseButton1Click:Connect(function()
    hitboxActive = not hitboxActive
    toggleButton(hitboxButton, hitboxActive, "Hitbox")
    if hitboxActive then
        print("Hitboxes activated") -- Remplace par ton script de hitbox
    else
        print("Hitboxes deactivated")
    end
end)

-- âœ… Spam Weapon (activable avec bouton)
local spamWeaponActive = false
spamWeaponButton.MouseButton1Click:Connect(function()
    spamWeaponActive = not spamWeaponActive
    toggleButton(spamWeaponButton, spamWeaponActive, "Spam Weapon")
    if spamWeaponActive then
        spawn(function()
            local event = game:GetService("ReplicatedStorage").Events.WeaponEvent
            local unequipArgs1 = { [1] = "None" }
            local unequipArgs2 = { [1] = "S0" }
            while spamWeaponActive do
                for i = 1, 9 do
                    local args = { [1] = "S" .. i }
                    event:FireServer(unpack(args))
                    task.wait(0.15)
                    event:FireServer(unpack(unequipArgs1))
                    task.wait(0.1)
                    event:FireServer(unpack(unequipArgs2))
                    task.wait(0.1)
                end
            end
        end)
    end
end)

-- âœ… Farm Kill (activable avec bouton)
local farmKillActive = false
farmKillButton.MouseButton1Click:Connect(function()
    farmKillActive = not farmKillActive
    toggleButton(farmKillButton, farmKillActive, "Farm Kill")
    if farmKillActive then
        spawn(function()
            local player = game:GetService("Players").LocalPlayer
            local replicatedStorage = game:GetService("ReplicatedStorage")
            local function teleportToDummies()
                local character = player.Character or player.CharacterAdded:Wait()
                if character then
                    local dummiesFolder = workspace:FindFirstChild("MAP"):FindFirstChild("5k_dummies")
                    if dummiesFolder then
                        local targetDummy = dummiesFolder:FindFirstChild("Dummy2")
                        if targetDummy and targetDummy:FindFirstChild("HumanoidRootPart") then
                            character:MoveTo(targetDummy.HumanoidRootPart.Position + Vector3.new(0, 3, 0))
                            return true
                        end
                    end
                end
                return false
            end
            while farmKillActive do
                if teleportToDummies() then
                    task.wait(1)
                    replicatedStorage.jdskhfsIIIllliiIIIdchgdIiIIIlIlIli:FireServer(player.Character.Humanoid, 1)
                    task.wait(0.3)
                    player.Character.Humanoid.Health = 0
                    replicatedStorage.SkillsInRS.DamageIndicatorEvent:FireServer(player.Character.Humanoid, 40206)
                end
            end
        end)
    end
end)

-- âœ… Ajout du bouton pour **fermer et rouvrir le menu**
local openGUIButton = createButton("Open GUI", UDim2.new(0, 10, 0, 10), screenGui)
openGUIButton.Size = UDim2.new(0, 120, 0, 40)
openGUIButton.Visible = false -- MasquÃ© au dÃ©but

local function toggleGUI()
    frame.Visible = not frame.Visible
    openGUIButton.Visible = not frame.Visible
end

local toggleGUIButton = createButton("Close GUI", UDim2.new(0, 25, 0, 320), frame)
toggleGUIButton.MouseButton1Click:Connect(toggleGUI)
openGUIButton.MouseButton1Click:Connect(toggleGUI)
